(this["webpackJsonpvisitor-management-system-client"]=this["webpackJsonpvisitor-management-system-client"]||[]).push([[0],{208:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(36),l=t.n(s),c=(t(90),t(91),t(8)),o=t(23),i=t(1),m=t(2),d=t(4),u=t(3),p=t(5),v=t(6),h=t.n(v),f=t(12),E=t(13),g=t.n(E),b=t(38),N=t.n(b),y="GET_ERRORS",O=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},k=function(){return function(e){localStorage.removeItem("jwtToken"),O(!1),e({type:"LOGIN_ADMIN",payload:{}}),window.location.href="/"}},w=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).logout=function(){e.props.logoutAdmin()},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.admin,a=e.adminCredentials,t=e.isValidToken,n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/register-admin"},"Register")));return t&&a&&(n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("ul",{className:"navbar-nav sidebar-header-ul"},r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/register-visitor"},"Register Visitor")),r.a.createElement("li",{className:"nav-item "},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/signout-visitor"},"Signout Visitor")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/registered-visitors"},"My Visitors")),r.a.createElement("li",{className:"nav-item "},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/visitors-log"},"My Visitors Log")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/track-visitor"},"Track Visitor")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{className:"sidebar-a",exact:!0,to:"/track-visitors"},"Track Visitors"))),r.a.createElement(c.b,{className:"nav-link",to:""},r.a.createElement("i",{className:"fas fa-user-circle mr-1"})," ",a.fullname),r.a.createElement("li",{className:"nav-item",onClick:this.logout},r.a.createElement(c.b,{className:"nav-link",to:""},"Logout")))),r.a.createElement("nav",{className:"navbar navbar-expand-lg bg-info navbar-dark"},r.a.createElement("a",{className:"navbar-brand text-center",href:"/",id:"vms-logo"},r.a.createElement("i",{className:"fas fa-coffee"})," VisitorManagementSystem"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ",id:"collapsibleNavbar"},n))}}]),t}(n.Component),x=Object(p.b)((function(e){return{admin:e.login}}),{logoutAdmin:k})(w),j=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.admin,a=e.adminCredentials,t=e.isValidToken,n=r.a.createElement("div",null,r.a.createElement("h1",{className:"header-landing"},"Hi, I'm your efficient visitor management system"),r.a.createElement("p",{className:"lead"},r.a.createElement("mark",null,"Register")," or ",r.a.createElement("mark",null,"Login")," to effectively manage your organization's visitors from",r.a.createElement("mark",null,"start")," to ",r.a.createElement("mark",null,"finish")),r.a.createElement("hr",null),r.a.createElement(c.b,{to:"/register-admin",className:"btn btn-outline-info btn-lg  mr-2 btn-landing"},"Register"),r.a.createElement(c.b,{to:"/login",className:"btn btn-lg btn-outline-success mr-2 btn-landing"},"Login"));return t&&a&&(n=r.a.createElement("div",{className:"mt-5"},r.a.createElement("h3",{className:"display-3 mt-4"},"Hi, ",r.a.createElement("em",null,a.fullname),", hope your day has been good so far!"," ",r.a.createElement(c.b,{to:"/dashboard",className:"btn  btn-primary"},"<<"," Back to dashboard")))),r.a.createElement("div",{className:"landing "},r.a.createElement("div",{className:"light-overlay landing-inner text-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},n)))))}}]),t}(n.Component),S=Object(p.b)((function(e){return{admin:e.login}}))(j),C=(n.Component,t(11)),P=t(9),T=t.n(P),V=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).componentWillReceiveProps=function(a){a.errors&&e.setState({errors:a.errors,isLoading:!1})},e.handleOnSubmit=function(a){a.preventDefault(),e.setState({isLoading:!0});var t=e.state,n={fullname:t.fullname,username:t.username,email:t.email,password:t.password,confirmPassword:t.confirmPassword},r=e.props;(0,r.registerAdmin)(n,r.history)},e.handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.state={fullname:"",username:"",email:"",password:"",confirmPassword:"",errors:{},isLoading:!1},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.fullname,t=e.username,n=e.email,s=e.password,l=e.confirmPassword,c=e.errors;return e.isLoading?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing...")):r.a.createElement("div",{className:"register-admin"},r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"header-h1 text-center"},"Admin Sign Up"),r.a.createElement("p",{className:"lead text-center"},"Create Admin Account"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:T()("form-control form-control-lg",{"is-invalid":c.fullname}),placeholder:"fullname",name:"fullname",value:a,onChange:this.handleOnChange,required:!0}),c.fullname&&r.a.createElement("div",{className:"invalid-feedback"},c.fullname)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:T()("form-control form-control-lg ",{"is-invalid":c.username}),placeholder:"Username",name:"username",value:t,onChange:this.handleOnChange,required:!0}),c.username&&r.a.createElement("div",{className:"invalid-feedback"},c.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:T()("form-control form-control-lg",{"is-invalid":c.email}),placeholder:"Email Address",name:"email",value:n,onChange:this.handleOnChange,required:!0}),c.email&&r.a.createElement("div",{className:"invalid-feedback"},c.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:T()("form-control form-control-lg",{"is-invalid":c.password}),placeholder:"Password",name:"password",value:s,onChange:this.handleOnChange,required:!0}),c.password&&r.a.createElement("div",{className:"invalid-feedback"},c.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:T()("form-control form-control-lg",{"is-invalid":c.confirmPassword}),placeholder:"Confirm Password",name:"confirmPassword",value:l,onChange:this.handleOnChange,required:!0}),c.confirmPassword&&r.a.createElement("div",{className:"invalid-feedback"},c.confirmPassword)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),L=Object(p.b)((function(e){return{errors:e.errors}}),{registerAdmin:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/admin/register",e);case 3:a.push("/login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})(V),D=t(80),I=t.n(D),A=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.admin,a=e.adminCredentials,t="admin";return e.isValidToken&&a&&(t=this.props.admin.adminCredentials.fullname),r.a.createElement("div",null,r.a.createElement("div",{className:"my-4"},r.a.createElement("img",{src:I.a,alt:"admin image",className:"mx-auto d-block rounded-circle img-fluid admin-image"}),r.a.createElement("p",{className:"text-center admin-text"},r.a.createElement("strong",null,t))),r.a.createElement("ul",{className:"dashbord-list-item ul-nav"},r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/register-visitor"},"Register Visitor")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/signout-visitor"},"Signout Visitor")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/registered-visitors"},"My Visitors")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/visitors-log"},"My Visitors Log")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/track-visitor"},"Track Visitor")),r.a.createElement("li",{className:"nav-item ul-nav-link"},r.a.createElement(c.c,{className:"sidebar-a",exact:!0,activeClassName:"active",to:"/track-visitors"},"Track Visitors"))))}}]),t}(n.Component),R=Object(p.b)((function(e){return{admin:e.login}}))(A),_=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).componentWillReceiveProps=function(a){a.errors&&e.setState({errors:a.errors,isLoading:!1})},e.handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault(),e.setState({isLoading:!0});var t=e.state,n={fullname:t.fullname,phone:t.phone,address:t.address,sex:t.sex,whomToSee:t.whomToSee,purpose:t.purpose,assets:t.assets},r=e.props;(0,r.registerVisitor)(n,r.history)},e.state={fullname:"",phone:"",address:"",sex:"",whomToSee:"",purpose:"",assets:"",isLoading:!1,errors:{}},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.fullname,t=e.phone,n=e.address,s=e.sex,l=e.whomToSee,c=e.purpose,o=e.assets,i=e.isLoading,m=e.errors;return i?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing...")):r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement("h1",{className:"header-h1 text-center my-4"},"Register Visitor"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"fullname"},"Fullname"),r.a.createElement("input",{type:"text",className:T()("form-control",{"is-invalid":m.fullname}),id:"fullname",placeholder:"e.g Balogun Michael",value:a,name:"fullname",onChange:this.handleOnChange,required:!0}),m.fullname&&r.a.createElement("div",{className:"invalid-feedback"},m.fullname)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"phone"},"Phone"),r.a.createElement("input",{type:"text",className:T()("form-control",{"is-invalid":m.phone||m.invalidPhone}),id:"phone",placeholder:"e.g +2347349712638 or 07349712638",value:t,name:"phone",onChange:this.handleOnChange,required:!0}),m.phone&&r.a.createElement("div",{className:"invalid-feedback"},m.phone),m.invalidPhone&&r.a.createElement("div",{className:"invalid-feedback"},m.invalidPhone))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAddress"},"Address"),r.a.createElement("input",{type:"text",className:T()("form-control",{"is-invalid":m.address}),id:"inputAddress",placeholder:"12 Downing St...",value:n,name:"address",onChange:this.handleOnChange,required:!0}),m.address&&r.a.createElement("div",{className:"invalid-feedback"},m.address)),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control form-control-lg",name:"sex",value:s,onChange:this.handleOnChange,required:!0},r.a.createElement("option",{value:""},"select gender"),r.a.createElement("option",{value:"male"},"male"),r.a.createElement("option",{value:"female"},"female"),r.a.createElement("option",{value:"others"},"others"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"whomToSee"},"Whom To See"),r.a.createElement("input",{type:"text",className:T()("form-control",{"is-invalid":m.whomToSee}),id:"whomToSee",name:"whomToSee",value:l,onChange:this.handleOnChange,required:!0}),m.whomToSee&&r.a.createElement("div",{className:"invalid-feedback"},m.whomToSee)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"purpose"},"Purpose of Visit"),r.a.createElement("input",{type:"text",className:T()("form-control",{"is-invalid":m.purpose}),id:"purpose",name:"purpose",value:c,onChange:this.handleOnChange,required:!0}),m.purpose&&r.a.createElement("div",{className:"invalid-feedback"},m.purpose))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"assets"},"Assets"),r.a.createElement("textarea",{className:"form-control form-control-lg",placeholder:"Enter visitor's asset(s) e.g Laptop(Hp, ax23566bnsn), phone(infinix, bn3367gsje) etc.",id:"assets",name:"assets",value:o,onChange:this.handleOnChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary d-block my-4"},"Register Visitor")))))}}]),t}(n.Component),M=Object(p.b)((function(e){return{errors:e.errors}}),{registerVisitor:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/visitors/register-visitor",e);case 3:alert("visitor successfully registered"),a.push("/visitors-log"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response),n({type:y,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(_),q=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).componentWillReceiveProps=function(a){a.errors&&e.setState({errors:a.errors,isLoading:!1})},e.handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleLogin=function(a){a.preventDefault(),e.setState({isLoading:!0});var t=e.state,n={usernameOrEmail:t.usernameOrEmail,password:t.password},r=e.props;(0,r.loginAdmin)(n,r.history)},e.state={usernameOrEmail:"",password:"",isLoading:!1,errors:{}},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.usernameOrEmail,t=e.password,n=e.isLoading,s=e.errors;return n?r.a.createElement("div",{className:"text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing...")):r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"header-h1 text-center my-4"},"Log In"),r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Enter username or email",name:"usernameOrEmail",className:T()("form-control form-control-lg",{"is-invalid":s.usernameOrEmail}),value:a,onChange:this.handleOnChange,required:!0}),s.usernameOrEmail&&r.a.createElement("div",{className:"invalid-feedback"},s.usernameOrEmail)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:T()("form-control form-control-lg",{"is-invalid":s.password}),value:t,onChange:this.handleOnChange,required:!0}),s.password&&r.a.createElement("div",{className:"invalid-feedback"},s.password)),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4"})),r.a.createElement("p",{className:"small mt-3"},r.a.createElement("a",{href:"/forgot-password",className:"text-info"},"Forgot password"))))))}}]),t}(n.Component),G=Object(p.b)((function(e){return{errors:e.errors}}),{loginAdmin:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){var r,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/admin/login",e);case 3:r=t.sent,s=r.data.token,localStorage.setItem("jwtToken",s),O(s),l=N()(s),n({type:"LOGIN_ADMIN",payload:l}),a.push("/dashboard"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}})(q),F=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).componentWillReceiveProps=function(a){a.errors&&e.setState({errors:a.errors,displaySpinner:!1})},e.handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault(),e.setState({displaySpinner:!0});var t={email:e.state.email},n=e.props;(0,n.forgotPassword)(t,n.history)},e.state={email:"",errors:{},displaySpinner:!1},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.errors;return e.displaySpinner?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing...")):r.a.createElement("div",{className:"forgot-password mt-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center my-4"},"Enter email to reset password"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:T()("form-control form-control-lg",{"is-invalid":t.usernameorEmail}),placeholder:"Email Address",name:"email",value:a,onChange:this.handleOnChange,required:!0}),t.usernameorEmail&&r.a.createElement("div",{className:"invalid-feedback"},t.usernameorEmail)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),W=Object(p.b)((function(e){return{errors:e.errors}}),{forgotPassword:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/admin/forgot-password",e);case 3:alert("A password reset mail has been sent to your email address"),a.push("/"),n({type:y,payload:{}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(F),H=t(81),B=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).dateHoursExtractor=function(e){for(var a=[0,0,0,0,0],t=0;t<e.length;t++){var n=new Date(e[t].timeIn);(n=n.getHours())>7&&n<10?a[0]=++a[0]:n>9&&n<12?a[1]=++a[1]:n>11&&n<14?a[2]=++a[2]:n>13&&n<16?a[3]=++a[3]:n>16&&(a[4]=++a[4])}return a},n.componentDidMount=Object(f.a)(h.a.mark((function e(){var a,t,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/v1/visitors/todays-logs");case 2:if("No result found"!=(a=e.sent).data){e.next=5;break}return e.abrupt("return");case 5:t=a.data,r=n.state.chartData,t.length>0&&(s=n.dateHoursExtractor(t),r.datasets[0].data=s,n.setState({chartData:r,isData:!0}));case 8:case"end":return e.stop()}}),e)}))),n.state={isData:!1,chartData:{labels:["8-10am","8-12pm","12-2pm","2-4pm","4pm+"],datasets:[{label:"VMS Analytics For Today",data:[0,0,0,0,0],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(82, 102, 87, 0.6)"]}]}},n}return Object(m.a)(t,[{key:"render",value:function(){return this.state.isData?r.a.createElement("div",{className:"chart"},r.a.createElement(H.a,{data:this.state.chartData})):r.a.createElement("div",{className:"Jumbotron  text-center info-cont"},r.a.createElement("p",{className:"alert alert-info"}," ","You have no logged visitor today so chart cannot be drawn..."))}}]),t}(n.Component),Y=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:" col-md-6 m-auto my-5"},r.a.createElement(B,null))))}}]),t}(n.Component),J=(t(207),function(e){if("active"===e)return e;var a=new Date(""+e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}),K=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.posts;return e.loading?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing...")):r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"fullname"),r.a.createElement("th",null,"address"),r.a.createElement("th",null,"sex"),r.a.createElement("th",null,"Date Created"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.fullname),r.a.createElement("td",null,e.address),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,J(e.created_At)))})))))}}]),t}(n.Component),U=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){for(var e=this.props,a=e.postsPerPage,t=e.totalPosts,n=e.paginate,s=e.nextPage,l=e.prevPage,c=[],o=1;o<=Math.ceil(t/a);o++)c.push(o);return r.a.createElement("nav",{id:"pagination"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{onClick:function(){return l()},className:"page-link",href:"#"},"Previous")),c.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("a",{onClick:function(){return n(e)},href:"#",className:"page-link"},e))})),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{onClick:function(){return s()},className:"page-link",href:"#"},"Next"))))}}]),t}(n.Component),X=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={posts:[],currentPage:1,postsPerPage:5,loading:!1},e.componentDidMount=Object(f.a)(h.a.mark((function a(){var t,n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({loading:!0}),t=e.props.fetchVisitors,a.next=4,t();case 4:n=e.props.visitors,e.setState({posts:n,loading:!1});case 6:case"end":return a.stop()}}),a)}))),e}return Object(m.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.posts,n=a.postsPerPage,s=a.currentPage,l=a.loading;if(l)return r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing..."));if(!t||0===t.length)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 bg-info sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container alert alert-info text-center mt-5 col-md-4 info-cont mt-4",role:"alert"},"You have no registered visitor yet."));var c=Math.ceil(t.length/n),o=s*n,i=o-n,m=t.slice(i,o);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-8 mx-auto mt-3"},r.a.createElement("h2",{className:"my-3 text-center"},"Registered Visitors"),r.a.createElement(K,{posts:m,loading:l}),r.a.createElement(U,{postsPerPage:n,totalPosts:t.length,paginate:function(a){return e.setState({currentPage:a})},nextPage:function(){s+1>c||e.setState({currentPage:s+1})},prevPage:function(){s-1<1||e.setState({currentPage:s-1})}})))}}]),t}(n.Component),z=Object(p.b)((function(e){return{visitors:e.visitors.visitors}}),{fetchVisitors:function(){return function(){var e=Object(f.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/visitors/registered");case 3:t=e.sent,a({type:"GET_VISITORS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}})(X),Q=t(18),Z=t(83),$={},ee=t(22),ae={visitors:[],visitor:{}},te={visitorsLogs:[],visitorLog:{}},ne={isValidToken:!1,adminCredentials:{}},re={trackedVisitor:{},trackedVisitors:[]},se=Object(Q.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:return a.payload;default:return e}},visitors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_VISITORS":return Object(ee.a)({},e,{visitors:a.payload});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_ADMIN":var t=!!a.payload;return Object(ee.a)({},e,{isValidToken:t,adminCredentials:a.payload});default:return e}},logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_VISITORS_LOGS":return Object(ee.a)({},e,{visitorsLogs:a.payload});default:return e}},trackedVisitors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TRACK_VISITOR":return Object(ee.a)({},e,{trackedVisitor:a.payload});case"TRACK_VISITORS":return Object(ee.a)({},e,{trackedVisitors:a.payload});default:return e}}}),le={},ce=[Z.a],oe=Object(Q.e)(se,le,Object(Q.d)(Q.a.apply(void 0,ce))),ie=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();window.navigator.userAgent.includes("Chrome")&&ie&&(oe=Object(Q.e)(se,le,Object(Q.d)(Q.a.apply(void 0,ce),ie)));var me=oe,de=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).componentWillReceiveProps=function(a){a.errors&&e.setState({errors:"invalid visitor tag"})},e.handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault();var t=e.props,n=t.signoutVisitor,r=t.history;n(e.state.tag,r)},e.state={tag:"",errors:""},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.tag,t=e.errors;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-6 mx-auto mt-5"},r.a.createElement("h1",{className:"header-h1 text-center my-4"},"Enter Visitor's Tag"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Enter visitor's tag id e.g TAG243",name:"tag",className:T()("form-control form-control-lg",{"is-invalid":t}),value:a,onChange:this.handleOnChange,required:!0}),t&&r.a.createElement("div",{className:"invalid-feedback"},"invalid tag or visitor still active")),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4",value:"signout visitor"})))))}}]),t}(n.Component),ue=Object(p.b)((function(e){return{errors:e.errors}}),{signoutVisitor:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/visitors/logout/".concat(e));case 3:n({type:y,payload:{}}),alert("visitor successfully signed out"),a.push("/visitors-log"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:y,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(de),pe=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.posts;return e.loading?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Loading...")):r.a.createElement("div",null,r.a.createElement("table",{className:"table table-hover "},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"Whom To See"),r.a.createElement("th",null,"Purpose"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Date in"),r.a.createElement("th",null,"Date out"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.whomToSee),r.a.createElement("td",null,e.purpose),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,J(e.timeIn)),r.a.createElement("td",null,J(e.timeOut||"active")))})))))}}]),t}(n.Component),ve=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={posts:[],currentPage:1,postsPerPage:5,loading:!1},e.componentDidMount=Object(f.a)(h.a.mark((function a(){var t,n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({loading:!0}),t=e.props.fetchVisitorsLog,a.next=4,t();case 4:n=e.props.visitorsLogs,e.setState({posts:n,loading:!1});case 6:case"end":return a.stop()}}),a)}))),e}return Object(m.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.posts,n=a.postsPerPage,s=a.currentPage,l=a.loading;if(l)return r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Processing..."));if(!t||0===t.length)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container alert alert-info text-center mt-5 col-md-4 info-cont alert-dismissible fade show",role:"alert"},"You have no logged visitor yet."));var c=Math.ceil(t.length/n),o=s*n,i=o-n,m=t.slice(i,o);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-8 mx-auto mt-3"},r.a.createElement("h2",{className:"my-3 text-center"},"Visitors' Log"),r.a.createElement(pe,{posts:m,loading:l}),r.a.createElement(U,{postsPerPage:n,totalPosts:t.length,paginate:function(a){return e.setState({currentPage:a})},nextPage:function(){s+1>c||e.setState({currentPage:s+1})},prevPage:function(){s-1<1||e.setState({currentPage:s-1})}})))}}]),t}(n.Component),he=Object(p.b)((function(e){return{visitorsLogs:e.logs.visitorsLogs}}),{fetchVisitorsLog:function(){return function(){var e=Object(f.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/visitors/logs");case 3:t=e.sent,a({type:"GET_VISITORS_LOGS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:y,payload:e.t0.response});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}})(ve),fe=t(84),Ee=Object(p.b)((function(e){return{admin:e.login}}))((function(e){var a=e.component,t=e.admin,n=Object(fe.a)(e,["component","admin"]);return r.a.createElement(o.b,Object.assign({},n,{render:function(e){return t.isValidToken?r.a.createElement(a,e):r.a.createElement(o.a,{to:"/"})}}))})),ge=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault();var t=e.props,n=t.trackVisitor,r=t.history;n(e.state.phone,r)},e.state={phone:""},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state.phone,a=this.props.errors;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container col-md-6 mt-4"},r.a.createElement("h1",{className:"header-h1 text-center my-4"},"Enter visitor's phone number"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Phone number of visitor you want to track",name:"phone",className:T()("form-control form-control-lg",{"is-invalid":a.invalidPhone}),value:e,onChange:this.handleOnChange,required:!0}),a.invalidPhone&&r.a.createElement("div",{className:"invalid-feedback"},a.invalidPhone)),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4",value:"track visitor"})))))}}]),t}(n.Component),be=Object(p.b)((function(e){return{errors:e.errors}}),{trackVisitor:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/v1/visitors/".concat(e));case 3:r=t.sent,n({type:"TRACK_VISITOR",payload:r.data}),a.push("/tracked-visitor"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(ge),Ne=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.trackedVisitor;if("No result found"===e)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container alert alert-info text-center mt-5 col-md-4 info-cont ",role:"alert"},e));if(!e||0===Object.keys(e).length&&e.constructor===Object)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 bg-info sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container alert alert-info col-md-4 info-cont ",role:"alert"},"You have no tracked visitor yet."));var a=e.visitorLogs.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.whomToSee),r.a.createElement("td",null,e.assetLog.assets||"NIL"," "),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,J(e.timeIn)),r.a.createElement("td",null,J(e.timeOut||"active")))}));return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 bg-info sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-8 table-responsive mx-auto mt-3"},r.a.createElement("h1",{className:"header-h1 my-3 text-center"},"Tracked Visitor"),r.a.createElement("p",null,"id: ",r.a.createElement("strong",null,e.id)," \xa0 name:"," ",r.a.createElement("strong",null,e.fullname)," \xa0 phone:"," ",r.a.createElement("strong",null,e.phone)),r.a.createElement("table",{className:"table table-hover "},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Log id"),r.a.createElement("th",null,"Whom To See"),r.a.createElement("th",null,"Asset"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Date Time In"),r.a.createElement("th",null,"Date Time Out"))),r.a.createElement("tbody",null,a))))}}]),t}(n.Component),ye=Object(p.b)((function(e){return{trackedVisitor:e.trackedVisitors.trackedVisitor}}))(Ne),Oe=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault();var t=e.state,n={start:t.start,end:t.end},r=e.props;(0,r.trackVisitors)(n,r.history)},e.state={start:"",end:""},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.start,t=e.end;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-6 mx-auto mt-4"},r.a.createElement("h4",{className:"text-center my-4"},"Track visitors from a particular date to another"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",name:"start",className:"form-control form-control-lg",value:a,onChange:this.handleOnChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",name:"end",className:"form-control form-control-lg",value:t,onChange:this.handleOnChange,required:!0})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-4",value:"track visitors"})))))}}]),t}(n.Component),ke=Object(p.b)((function(e){return{errors:e.errors}}),{trackVisitors:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/visitors/track-visitors",e);case 3:r=t.sent,n({type:"TRACK_VISITORS",payload:r.data}),a.push("/tracked-visitors"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:y,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Oe),we=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.posts;return e.loading?r.a.createElement("div",{className:"forgot-password text-center mt-4 loading"},r.a.createElement("p",{className:"spinner-border text-primary  my-3"}),r.a.createElement("p",{className:"my-2"},"Loading...")):r.a.createElement("div",null,r.a.createElement("table",{className:"table table-hover "},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Visitor id"),r.a.createElement("th",null,"Whom To See"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Signed By"),r.a.createElement("th",null,"Date-Time In"),r.a.createElement("th",null,"Date-Time Out"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.whomToSee),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.signedBy),r.a.createElement("td",null,J(e.timeIn)),r.a.createElement("td",null,J(e.timeOut||"active")))})))))}}]),t}(n.Component),xe=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={posts:[],currentPage:1,postsPerPage:5,loading:!1},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var e=this.props.trackedVisitors;this.setState({posts:e.content}),this.setState({loading:!1})}},{key:"render",value:function(){var e=this,a=this.state,t=a.posts,n=a.postsPerPage,s=a.currentPage,l=a.loading;if(!t||t.length<1)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block d-xs-block sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"container col-md-8 m-auto"},r.a.createElement("h1",{className:"header-h1 my-4 text-center"},"Tracked Visitors"),r.a.createElement("div",{className:"Jumbotron  text-center"},r.a.createElement("p",{className:"alert alert-info no-result-found"}," ","No result found"))));var c=Math.ceil(t.length/n),o=s*n,i=o-n,m=t.slice(i,o);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 sidebar"},r.a.createElement(R,null)),r.a.createElement("div",{className:"col-md-8 table-responsive mx-auto mt-3"},r.a.createElement("h2",{className:"my-3 text-center"},"Tracked Visitors"),r.a.createElement(we,{posts:m,loading:l}),r.a.createElement(U,{postsPerPage:n,totalPosts:t.length,paginate:function(a){return e.setState({currentPage:a})},nextPage:function(){s+1>c||e.setState({currentPage:s+1})},prevPage:function(){s-1<1||e.setState({currentPage:s-1})}})))}}]),t}(n.Component),je=Object(p.b)((function(e){return{trackedVisitors:e.trackedVisitors.trackedVisitors}}))(xe),Se=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleOnChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleOnSubmit=function(a){a.preventDefault();var t=e.state,n={password:t.password,confirmPassword:t.confirmPassword,token:e.props.location.search.substr(7)},r=e.props;(0,r.resetPassword)(n,r.history)},e.componentWillReceiveProps=function(a){if(a.errors){var t=e.state,n=t.password,r=t.confirmPassword;e.setState({password:n,confirmPassword:r,errors:a.errors})}},e.state={password:"",confirmPassword:"",errors:{}},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.password,t=e.confirmPassword,n=e.errors;return r.a.createElement("div",{className:"reset-password"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"header-h1"},"Reset Password"),r.a.createElement("p",{className:"lead text-center"},"Make sure both passwords match"),r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:T()("form-control form-control-lg",{"is-invalid":n.password}),placeholder:"Password",name:"password",value:a,onChange:this.handleOnChange,required:!0}),n.password&&r.a.createElement("div",{className:"invalid-feedback"},n.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:T()("form-control form-control-lg",{"is-invalid":n.confirmPassword}),placeholder:"Confirm Password",name:"confirmPassword",value:t,onChange:this.handleOnChange,required:!0}),n.confirmPassword&&r.a.createElement("div",{className:"invalid-feedback"},n.confirmPassword)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),Ce=Object(p.b)((function(e){return{errors:e.errors}}),{resetPassword:function(e,a){return function(){var t=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/v1/admin/reset-password",e);case 3:alert("password reset successful"),a.push("/login"),n({type:y,payload:{}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:y,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Se),Pe=localStorage.jwtToken;if(Pe){O(Pe);var Te=N()(Pe);me.dispatch({type:"LOGIN_ADMIN",payload:Te});var Ve=Date.now()/1e3;Te.exp<Ve&&(me.dispatch(k()),window.location.href="/")}var Le=function(){return r.a.createElement(c.a,null,r.a.createElement(x,null),r.a.createElement(o.b,{exact:!0,path:"/",component:S}),r.a.createElement(o.b,{exact:!0,path:"/login",component:G}),r.a.createElement(o.b,{exact:!0,path:"/register-admin",component:L}),r.a.createElement(o.b,{exact:!0,path:"/forgot-password",component:W}),r.a.createElement(o.b,{path:"/reset",component:Ce}),r.a.createElement(o.d,null,r.a.createElement(Ee,{exact:!0,path:"/dashboard",component:Y}),r.a.createElement(Ee,{exact:!0,path:"/registered-visitors",component:z}),r.a.createElement(Ee,{exact:!0,path:"/visitors-log",component:he}),r.a.createElement(Ee,{exact:!0,path:"/signout-visitor",component:ue}),r.a.createElement(Ee,{exact:!0,path:"/register-visitor",component:M}),r.a.createElement(Ee,{exact:!0,path:"/track-visitor",component:be}),r.a.createElement(Ee,{exact:!0,path:"/tracked-visitor",component:ye}),r.a.createElement(Ee,{exact:!0,path:"/track-visitors",component:ke}),r.a.createElement(Ee,{exact:!0,path:"/tracked-visitors",component:je})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:me},r.a.createElement(Le,null)),","),document.getElementById("root"))},80:function(e,a,t){e.exports=t.p+"static/media/img2.2a2e91ab.png"},85:function(e,a,t){e.exports=t(208)},90:function(e,a,t){},91:function(e,a,t){}},[[85,1,2]]]);
//# sourceMappingURL=main.8cf0c046.chunk.js.map